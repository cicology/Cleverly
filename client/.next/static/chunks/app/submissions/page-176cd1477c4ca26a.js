(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{478:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7568).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},1025:(e,s,t)=>{Promise.resolve().then(t.bind(t,4604))},4604:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(3365),l=t(1521),d=t(9717),i=t(1349),n=t(5421),r=t(7007),c=t(6224),o=t(7801),m=t(7001),x=t(478),h=t(6069),u=t(5348),j=t(7831),g=t(1721),p=t(7641);function f(){let e=(0,d.useRouter)(),[s,t]=(0,l.useState)(""),{data:f,isLoading:N,error:b}=(0,g.EB)(),{data:v}=(0,g.hk)(),y=(0,l.useMemo)(()=>v?new Map(v.map(e=>[e.id,e])):new Map,[v]),w=(0,l.useMemo)(()=>f?f.filter(e=>"graded"===e.status||"flagged"===e.status).map(e=>{let s=y.get(e.grader_id),t=e.max_possible_score?Math.round(e.total_score/e.max_possible_score*100):0,a=e.submission_grades&&e.submission_grades.length>0?Math.round(e.submission_grades.reduce((e,s)=>e+(s.confidence_score||0),0)/e.submission_grades.length):0;return{id:e.id,student:e.student_identifier,course:s?.title||"Unknown",grade:t,confidence:a,date:new Date(e.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),status:e.status}}):[],[f,y]),_=(0,l.useMemo)(()=>w.filter(e=>e.student.toLowerCase().includes(s.toLowerCase())||e.course.toLowerCase().includes(s.toLowerCase())),[w,s]);return N?(0,a.jsx)(i.e,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Submissions"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View and manage all graded submissions."})]})}),(0,a.jsx)("div",{className:"grid gap-4",children:Array.from({length:3}).map((e,s)=>(0,a.jsx)(p.Qv,{},s))})]})}):b?(0,a.jsx)(i.e,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Submissions"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View and manage all graded submissions."})]})}),(0,a.jsxs)("div",{className:"rounded-xl border border-destructive/30 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:[(0,a.jsx)("p",{className:"font-medium",children:"Failed to load submissions"}),(0,a.jsx)("p",{className:"text-xs mt-1",children:"Please check your connection and try again."})]})]})}):(0,a.jsx)(i.e,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Submissions"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View and manage all graded submissions."})]}),(0,a.jsxs)(r.$,{className:"gap-2",disabled:0===w.length,children:[(0,a.jsx)(x.A,{className:"size-4"}),"Export Grades"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),(0,a.jsx)(m.p,{type:"search",placeholder:"Search submissions...",className:"pl-9",value:s,onChange:e=>t(e.target.value)})]}),(0,a.jsx)(r.$,{variant:"outline",size:"icon",children:(0,a.jsx)(u.A,{className:"size-4"})})]}),0===w.length?(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-12 text-center",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"No submissions yet"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Submissions will appear here after grading is complete"})]})}):0===_.length?(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-12 text-center",children:(0,a.jsxs)("p",{className:"text-muted-foreground",children:['No submissions found matching "',s,'"']})})}):(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"text-left p-4 font-semibold text-sm",children:"Student"}),(0,a.jsx)("th",{className:"text-left p-4 font-semibold text-sm",children:"Course"}),(0,a.jsx)("th",{className:"text-left p-4 font-semibold text-sm",children:"Grade"}),(0,a.jsx)("th",{className:"text-left p-4 font-semibold text-sm",children:"Confidence"}),(0,a.jsx)("th",{className:"text-left p-4 font-semibold text-sm",children:"Date"}),(0,a.jsx)("th",{className:"text-left p-4 font-semibold text-sm",children:"Status"}),(0,a.jsx)("th",{className:"text-right p-4 font-semibold text-sm",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:_.map(s=>(0,a.jsxs)("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[(0,a.jsx)("td",{className:"p-4 font-medium",children:s.student}),(0,a.jsx)("td",{className:"p-4 text-sm text-muted-foreground",children:s.course}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("span",{className:"text-lg font-bold",children:[s.grade,"%"]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("div",{className:"w-32",children:(0,a.jsx)(o._,{score:s.confidence,size:"sm"})})}),(0,a.jsx)("td",{className:"p-4 text-sm text-muted-foreground",children:s.date}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(c.E,{variant:"graded"===s.status?"success":"warning",children:s.status})}),(0,a.jsx)("td",{className:"p-4 text-right",children:(0,a.jsx)(r.$,{variant:"ghost",size:"icon-sm",onClick:()=>e.push(`/submissions/${s.id}`),children:(0,a.jsx)(j.A,{className:"size-4"})})})]},s.id))})]})})})})]})})}},5348:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7568).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7801:(e,s,t)=>{"use strict";t.d(s,{_:()=>n});var a=t(3365),l=t(1550),d=t(1340),i=t(6224);function n({score:e,showLabel:s=!0,size:t="md",className:n}){let r=(0,l.ul)(e);return(0,a.jsxs)("div",{className:(0,d.cn)("flex items-center gap-2",n),children:[s&&(0,a.jsx)(i.E,{variant:r,className:"font-mono text-xs",children:(0,l.Me)(e)}),(0,a.jsx)("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden min-w-20",children:(0,a.jsx)("div",{className:(0,d.cn)("transition-all duration-300",{sm:"h-1.5",md:"h-2",lg:"h-3"}[t],{"bg-green-500":e>=85,"bg-yellow-500":e>=70&&e<85,"bg-red-500":e<70}),style:{width:`${Math.min(e,100)}%`}})})]})}},7831:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7568).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{e.O(0,[179,888,757,497,975,347,158,358],()=>e(e.s=1025)),_N_E=e.O()}]);