(()=>{var a={};a.id=293,a.ids=[293],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},2560:(a,b,c)=>{"use strict";c.d(b,{Me:()=>g,_o:()=>i,ul:()=>f});let d={primary:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a"},subjects:{math:"#8b5cf6",science:"#06b6d4",english:"#ec4899",history:"#f97316",arts:"#14b8a6"}},e={high:85,medium:70},f=a=>a>=e.high?"success":a>=e.medium?"warning":"error",g=a=>`${Math.round(a)}%`,h={Math:d.subjects.math,Science:d.subjects.science,English:d.subjects.english,History:d.subjects.history,Arts:d.subjects.arts},i=a=>h[a]||d.primary[600]},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4209:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return p},defaultHead:function(){return l}});let d=c(93396),e=c(14707),f=c(55016),g=e._(c(43161)),h=d._(c(76240)),i=c(87022),j=c(26814),k=c(52853);function l(a){void 0===a&&(a=!1);let b=[(0,f.jsx)("meta",{charSet:"utf-8"},"charset")];return a||b.push((0,f.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),b}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===g.default.Fragment?a.concat(g.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}c(63743);let n=["name","httpEquiv","charSet","itemProp"];function o(a,b){let{inAmpMode:c}=b;return a.reduce(m,[]).reverse().concat(l(c).reverse()).filter(function(){let a=new Set,b=new Set,c=new Set,d={};return e=>{let f=!0,g=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){g=!0;let b=e.key.slice(e.key.indexOf("$")+1);a.has(b)?f=!1:a.add(b)}switch(e.type){case"title":case"base":b.has(e.type)?f=!1:b.add(e.type);break;case"meta":for(let a=0,b=n.length;a<b;a++){let b=n[a];if(e.props.hasOwnProperty(b))if("charSet"===b)c.has(b)?f=!1:c.add(b);else{let a=e.props[b],c=d[b]||new Set;("name"!==b||!g)&&c.has(a)?f=!1:(c.add(a),d[b]=c)}}}return f}}()).reverse().map((a,b)=>{let c=a.key||b;return g.default.cloneElement(a,{key:c})})}let p=function(a){let{children:b}=a,c=(0,g.useContext)(i.AmpStateContext),d=(0,g.useContext)(j.HeadManagerContext);return(0,f.jsx)(h.default,{reduceComponentsToState:o,headManager:d,inAmpMode:(0,k.isInAmpMode)(c),children:b})};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},4764:(a,b,c)=>{"use strict";a.exports=c(49064).vendored.contexts.ImageConfigContext},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:a=>{"use strict";a.exports=require("assert")},12855:(a,b,c)=>{"use strict";a.exports=c(49064).vendored.contexts.RouterContext},13167:(a,b,c)=>{"use strict";c.d(b,{T:()=>f});var d=c(55016);c(43161);var e=c(30530);function f({className:a,...b}){return(0,d.jsx)("textarea",{"data-slot":"textarea",className:(0,e.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...b})}},14621:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{VALID_LOADERS:function(){return c},imageConfigDefault:function(){return d}});let c=["default","imgix","cloudinary","akamai","custom"],d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},17309:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(19706).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/Rusumba/Oryares Sol/Cleverly/client/app/grading/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Rusumba/Oryares Sol/Cleverly/client/app/grading/page.tsx","default")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19505:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(16935).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},21820:a=>{"use strict";a.exports=require("os")},23929:(a,b,c)=>{Promise.resolve().then(c.bind(c,64988))},24488:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(75954),e=c(73125),f=c(57451),g=c(11932),h=c(79510),i=c(49704),j=c(9383),k=c(43636),l=c(11290),m=c(78816),n=c(58042),o=c(63957),p=c(17861),q=c(88846),r=c(261),s=c(81485),t=c(27762),u=c(26713),v=c(8916),w=c(35669),x=c(50137),y=c(47102),z=c(99474),A=c(92534),B=c(86439),C=c(46698),D=c.n(C),E=c(84658),F=c(34011),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["grading",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,17309)),"/Users/Rusumba/Oryares Sol/Cleverly/client/app/grading/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,57749)),"/Users/Rusumba/Oryares Sol/Cleverly/client/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,46698,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,98876,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,52613,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,86392,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["/Users/Rusumba/Oryares Sol/Cleverly/client/app/grading/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/grading/page",pathname:"/grading",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/grading/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},26814:(a,b,c)=>{"use strict";a.exports=c(49064).vendored.contexts.HeadManagerContext},27149:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(16935).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33116:(a,b)=>{"use strict";function c(a){var b;let{config:c,src:d,width:e,quality:f}=a,g=f||(null==(b=c.qualities)?void 0:b.reduce((a,b)=>Math.abs(b-75)<Math.abs(a-75)?b:a))||75;return c.path+"?url="+encodeURIComponent(d)+"&w="+e+"&q="+g+(d.startsWith("/_next/static/media/"),"")}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return d}}),c.__next_img_default=!0;let d=c},33873:a=>{"use strict";a.exports=require("path")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},49074:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImgProps",{enumerable:!0,get:function(){return i}}),c(63743);let d=c(57281),e=c(14621),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i(a,b){var c,i;let j,k,l,{src:m,sizes:n,unoptimized:o=!1,priority:p=!1,loading:q,className:r,quality:s,width:t,height:u,fill:v=!1,style:w,overrideSrc:x,onLoad:y,onLoadingComplete:z,placeholder:A="empty",blurDataURL:B,fetchPriority:C,decoding:D="async",layout:E,objectFit:F,objectPosition:G,lazyBoundary:H,lazyRoot:I,...J}=a,{imgConf:K,showAltText:L,blurComplete:M,defaultLoader:N}=b,O=K||e.imageConfigDefault;if("allSizes"in O)j=O;else{let a=[...O.deviceSizes,...O.imageSizes].sort((a,b)=>a-b),b=O.deviceSizes.sort((a,b)=>a-b),d=null==(c=O.qualities)?void 0:c.sort((a,b)=>a-b);j={...O,allSizes:a,deviceSizes:b,qualities:d}}if(void 0===N)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let P=J.loader||N;delete J.loader,delete J.srcSet;let Q="__next_img_default"in P;if(Q){if("custom"===j.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=P;P=b=>{let{config:c,...d}=b;return a(d)}}if(E){"fill"===E&&(v=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];a&&(w={...w,...a});let b={responsive:"100vw",fill:"100vw"}[E];b&&!n&&(n=b)}let R="",S=h(t),T=h(u);if((i=m)&&"object"==typeof i&&(g(i)||void 0!==i.src)){let a=g(m)?m.default:m;if(!a.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!a.height||!a.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(k=a.blurWidth,l=a.blurHeight,B=B||a.blurDataURL,R=a.src,!v)if(S||T){if(S&&!T){let b=S/a.width;T=Math.round(a.height*b)}else if(!S&&T){let b=T/a.height;S=Math.round(a.width*b)}}else S=a.width,T=a.height}let U=!p&&("lazy"===q||void 0===q);(!(m="string"==typeof m?m:R)||m.startsWith("data:")||m.startsWith("blob:"))&&(o=!0,U=!1),j.unoptimized&&(o=!0),Q&&!j.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(o=!0);let V=h(s),W=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:G}:{},L?{}:{color:"transparent"},w),X=M||"empty"===A?null:"blur"===A?'url("data:image/svg+xml;charset=utf-8,'+(0,d.getImageBlurSvg)({widthInt:S,heightInt:T,blurWidth:k,blurHeight:l,blurDataURL:B||"",objectFit:W.objectFit})+'")':'url("'+A+'")',Y=f.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Z=X?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},$=function(a){let{config:b,src:c,unoptimized:d,width:e,quality:f,sizes:g,loader:h}=a;if(d)return{src:c,srcSet:void 0,sizes:void 0};let{widths:i,kind:j}=function(a,b,c){let{deviceSizes:d,allSizes:e}=a;if(c){let a=/(^|\s)(1?\d?\d)vw/g,b=[];for(let d;d=a.exec(c);)b.push(parseInt(d[2]));if(b.length){let a=.01*Math.min(...b);return{widths:e.filter(b=>b>=d[0]*a),kind:"w"}}return{widths:e,kind:"w"}}return"number"!=typeof b?{widths:d,kind:"w"}:{widths:[...new Set([b,2*b].map(a=>e.find(b=>b>=a)||e[e.length-1]))],kind:"x"}}(b,e,g),k=i.length-1;return{sizes:g||"w"!==j?g:"100vw",srcSet:i.map((a,d)=>h({config:b,src:c,quality:f,width:a})+" "+("w"===j?a:d+1)+j).join(", "),src:h({config:b,src:c,quality:f,width:i[k]})}}({config:j,src:m,unoptimized:o,width:S,quality:V,sizes:n,loader:P});return{props:{...J,loading:U?"lazy":q,fetchPriority:C,width:S,height:T,decoding:D,className:r,style:{...W,...Z},sizes:$.sizes,srcSet:$.srcSet,src:x||$.src},meta:{unoptimized:o,priority:p,placeholder:A,fill:v}}}},49256:(a,b,c)=>{"use strict";c.d(b,{E:()=>i});var d=c(55016),e=c(91665),f=c(75871),g=c(30530);let h=(0,f.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"border-transparent bg-green-500 text-white [a&]:hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white [a&]:hover:bg-yellow-600",error:"border-transparent bg-red-500 text-white [a&]:hover:bg-red-600"}},defaultVariants:{variant:"default"}});function i({className:a,variant:b,asChild:c=!1,...f}){let i=c?e.DX:"span";return(0,d.jsx)(i,{"data-slot":"badge",className:(0,g.cn)(h({variant:b}),a),...f})}},52853:(a,b)=>{"use strict";function c(a){let{ampFirst:b=!1,hybrid:c=!1,hasQuery:d=!1}=void 0===a?{}:a;return b||c&&d}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isInAmpMode",{enumerable:!0,get:function(){return c}})},53305:(a,b,c)=>{Promise.resolve().then(c.bind(c,17309))},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},56110:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"Image",{enumerable:!0,get:function(){return u}});let d=c(93396),e=c(14707),f=c(55016),g=e._(c(43161)),h=d._(c(47100)),i=d._(c(4209)),j=c(49074),k=c(14621),l=c(4764);c(63743);let m=c(12855),n=d._(c(33116)),o=c(39903),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function q(a,b,c,d,e,f,g){let h=null==a?void 0:a.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),null==c?void 0:c.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}(null==d?void 0:d.current)&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)((a,b)=>{let{src:c,srcSet:d,sizes:e,height:h,width:i,decoding:j,className:k,style:l,fetchPriority:m,placeholder:n,loading:p,unoptimized:s,fill:t,onLoadRef:u,onLoadingCompleteRef:v,setBlurComplete:w,setShowAltText:x,sizesInput:y,onLoad:z,onError:A,...B}=a,C=(0,g.useCallback)(a=>{a&&(A&&(a.src=a.src),a.complete&&q(a,n,u,v,w,s,y))},[c,n,u,v,w,A,s,y]),D=(0,o.useMergedRef)(b,C);return(0,f.jsx)("img",{...B,...r(m),loading:p,width:i,height:h,decoding:j,"data-nimg":t?"fill":"1",className:k,style:l,sizes:e,srcSet:d,src:c,ref:D,onLoad:a=>{q(a.currentTarget,n,u,v,w,s,y)},onError:a=>{x(!0),"empty"!==n&&w(!0),A&&A(a)}})});function t(a){let{isAppRouter:b,imgAttributes:c}=a,d={as:"image",imageSrcSet:c.srcSet,imageSizes:c.sizes,crossOrigin:c.crossOrigin,referrerPolicy:c.referrerPolicy,...r(c.fetchPriority)};return b&&h.default.preload?(h.default.preload(c.src,d),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:c.srcSet?void 0:c.src,...d},"__nimg-"+c.src+c.srcSet+c.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{var a;let b=p||d||k.imageConfigDefault,c=[...b.deviceSizes,...b.imageSizes].sort((a,b)=>a-b),e=b.deviceSizes.sort((a,b)=>a-b),f=null==(a=b.qualities)?void 0:a.sort((a,b)=>a-b);return{...b,allSizes:c,deviceSizes:e,qualities:f}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.priority?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},57281:(a,b)=>{"use strict";function c(a){let{widthInt:b,heightInt:c,blurWidth:d,blurHeight:e,blurDataURL:f,objectFit:g}=a,h=d?40*d:b,i=e?40*e:c,j=h&&i?"viewBox='0 0 "+h+" "+i+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+j+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(j?"none":"contain"===g?"xMidYMid":"cover"===g?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+f+"'/%3E%3C/svg%3E"}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImageBlurSvg",{enumerable:!0,get:function(){return c}})},57851:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(16935).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64988:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>G});var d=c(55016),e=c(43161),f=c(60230),g=c(23354),h=c(87191),i=c(30530),j=c(77642);function k({submissions:a,selectedId:b,onSelect:c}){return(0,d.jsx)("div",{className:"space-y-2 overflow-y-auto flex-1",children:a.map(a=>(0,d.jsx)("div",{onClick:()=>c(a.id),className:(0,i.cn)("p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md",b===a.id?"bg-primary/10 border-primary shadow-sm":"bg-card border-border hover:border-primary/50"),children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-muted rounded-full",children:(0,d.jsx)(j.A,{className:"size-4"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"font-medium text-sm mb-1 truncate",children:a.student}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:[a.questionsGraded,"/",a.totalQuestions," questions reviewed"]}),(0,d.jsx)(h._,{score:a.confidence,size:"sm"})]})]})},a.id))})}var l=c(38535),m=c(12313),n=c(62181),o=c(13167),p=c(49256),q=c(16935);let r=(0,q.A)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var s=c(38286),t=c(92021);let u=(0,q.A)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),v=(0,q.A)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var w=c(57851),x=c(66558),y=c(96584),z=c.n(y);function A({question:a,onNext:b,onPrevious:c}){let[f,g]=(0,e.useState)(a.aiScore),[j,k]=(0,e.useState)(a.aiFeedback),[q,y]=(0,e.useState)(a.rubricChecks),[A,B]=(0,e.useState)(100);return(0,d.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-4",children:[(0,d.jsxs)(p.E,{variant:"outline",className:"text-sm md:text-base",children:["Question ",a.questionNumber," of ",a.totalQuestions]}),(0,d.jsx)(h._,{score:a.confidence})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(m.$,{variant:"outline",size:"sm",className:"gap-2 bg-transparent touch-manipulation",children:[(0,d.jsx)(r,{className:"size-4"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Flag for Review"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Flag"})]}),(0,d.jsx)(m.$,{variant:"outline",size:"icon-sm",onClick:c,disabled:1===a.questionNumber,className:"touch-manipulation bg-transparent",children:(0,d.jsx)(s.A,{className:"size-4"})}),(0,d.jsx)(m.$,{variant:"outline",size:"icon-sm",onClick:b,disabled:a.questionNumber===a.totalQuestions,className:"touch-manipulation bg-transparent",children:(0,d.jsx)(t.A,{className:"size-4"})})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4",children:[(0,d.jsxs)(l.Zp,{children:[(0,d.jsx)(l.aR,{children:(0,d.jsx)(l.ZB,{className:"text-base md:text-lg",children:"Student Answer"})}),(0,d.jsxs)(l.Wu,{className:"space-y-3 md:space-y-4",children:[(0,d.jsxs)("div",{className:"relative bg-muted rounded-lg overflow-hidden",children:[(0,d.jsx)(z(),{src:a.studentAnswerImage||"/placeholder.svg",alt:"Student's handwritten answer",width:600,height:400,className:"w-full",style:{transform:`scale(${A/100})`,transformOrigin:"top left"}}),(0,d.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[(0,d.jsx)(m.$,{variant:"secondary",size:"icon-sm",onClick:()=>B(Math.min(200,A+25)),className:"touch-manipulation",children:(0,d.jsx)(u,{className:"size-4"})}),(0,d.jsx)(m.$,{variant:"secondary",size:"icon-sm",onClick:()=>B(Math.max(50,A-25)),className:"touch-manipulation",children:(0,d.jsx)(v,{className:"size-4"})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:["AI Extracted Text",(0,d.jsx)(p.E,{variant:"success",className:"text-xs",children:"High OCR Quality"})]}),(0,d.jsx)("div",{className:"p-3 bg-muted rounded-lg text-xs md:text-sm leading-relaxed max-h-[200px] overflow-y-auto",children:a.extractedText})]})]})]}),(0,d.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,d.jsxs)(l.Zp,{children:[(0,d.jsx)(l.aR,{children:(0,d.jsx)(l.ZB,{className:"text-base md:text-lg",children:"Question"})}),(0,d.jsx)(l.Wu,{children:(0,d.jsx)("p",{className:"text-xs md:text-sm leading-relaxed",children:a.questionText})})]}),(0,d.jsxs)(l.Zp,{children:[(0,d.jsx)(l.aR,{children:(0,d.jsx)(l.ZB,{className:"text-base md:text-lg",children:"Rubric Criteria"})}),(0,d.jsx)(l.Wu,{children:(0,d.jsx)("div",{className:"space-y-2 md:space-y-3",children:q.map((a,b)=>(0,d.jsxs)("div",{onClick:()=>(a=>{let b=[...q];b[a].checked=!b[a].checked,y(b),g(b.reduce((a,b)=>a+(b.checked?b.points:0),0))})(b),className:(0,i.cn)("flex items-start gap-2 md:gap-3 p-2 md:p-3 rounded-lg border cursor-pointer transition-colors touch-manipulation",a.checked?"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800":"bg-background border-border hover:border-primary/50 active:border-primary"),children:[(0,d.jsx)("div",{className:"mt-0.5 shrink-0",children:a.checked?(0,d.jsx)(w.A,{className:"size-4 md:size-5 text-green-600"}):(0,d.jsx)("div",{className:"size-4 md:size-5 rounded-full border-2 border-gray-300"})}),(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsx)("div",{className:"text-xs md:text-sm",children:a.criterion})}),(0,d.jsxs)("div",{className:"font-mono text-xs md:text-sm font-semibold shrink-0",children:[a.points," pts"]})]},b))})})]}),(0,d.jsxs)(l.Zp,{children:[(0,d.jsx)(l.aR,{children:(0,d.jsx)(l.ZB,{className:"text-base md:text-lg",children:"Score"})}),(0,d.jsx)(l.Wu,{children:(0,d.jsxs)("div",{className:"flex items-center gap-3 md:gap-4",children:[(0,d.jsx)(n.p,{type:"number",value:f,onChange:a=>g(Number(a.target.value)),className:"w-20 md:w-24 text-center text-xl md:text-2xl font-bold",min:"0",max:a.maxScore}),(0,d.jsxs)("div",{className:"text-xl md:text-2xl font-bold text-muted-foreground",children:["/ ",a.maxScore]}),(0,d.jsx)("div",{className:"flex-1 text-right",children:(0,d.jsxs)("div",{className:"text-2xl md:text-3xl font-bold text-primary",children:[Math.round(f/a.maxScore*100),"%"]})})]})})]}),(0,d.jsxs)(l.Zp,{children:[(0,d.jsx)(l.aR,{children:(0,d.jsx)(l.ZB,{className:"text-base md:text-lg",children:"Feedback"})}),(0,d.jsx)(l.Wu,{children:(0,d.jsx)(o.T,{value:j,onChange:a=>k(a.target.value),placeholder:"Provide feedback for the student...",rows:4,className:"text-sm resize-none"})})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3",children:[(0,d.jsxs)(m.$,{variant:"outline",className:"flex-1 gap-2 bg-transparent touch-manipulation",children:[(0,d.jsx)(x.A,{className:"size-4"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Override Score"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Override"})]}),(0,d.jsxs)(m.$,{className:"flex-1 gap-2 touch-manipulation",children:[(0,d.jsx)(w.A,{className:"size-4"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Approve & Next"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Approve"})]})]})]})]})]})}var B=c(27149),C=c(19505),D=c(15643);let E={questionNumber:1,totalQuestions:5,questionText:"Describe the process of photosynthesis and its importance to plant life.",studentAnswerImage:"/handwritten-essay-answer.jpg",extractedText:"Photosynthesis is the process where plants convert light energy into chemical energy. It occurs in chloroplasts containing chlorophyll. The process has two stages: light reactions and dark reactions. During light reactions, water molecules split and oxygen is released. In dark reactions, carbon dioxide combines with hydrogen to form glucose. This process is essential for plant growth and provides oxygen for other organisms.",aiScore:8,maxScore:10,confidence:87,rubricChecks:[{criterion:"Identifies chloroplasts and chlorophyll",checked:!0,points:3},{criterion:"Explains light and dark reactions",checked:!0,points:4},{criterion:"Discusses glucose production",checked:!1,points:3}],aiFeedback:"Good explanation of the basic photosynthesis process. Student correctly identified chloroplasts and described both light and dark reactions. However, the discussion of glucose production could be more detailed, specifically mentioning where it occurs in the Calvin cycle."};function F(){let a=(0,f.useRouter)(),b=(0,f.useSearchParams)().get("graderId")??"",[c,h]=(0,e.useState)(b),i=(0,D.Vt)(b||void 0),j=(0,D.l0)(b||void 0),[l,o]=(0,e.useState)("1"),[q,r]=(0,e.useState)(30),[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)(!1),y=i.data?.rubric.length??0,z=(0,e.useMemo)(()=>j.data?.map(a=>({id:a.id,student:a.student_identifier,course:a.grader_id,questionsGraded:"graded"===a.status?y:0,totalQuestions:y,confidence:0,status:"grading"===a.status?"in-progress":"flagged"===a.status?"review":"graded"===a.status?"completed":"pending"}))??[],[j.data,y]),F=(0,e.useMemo)(()=>{let a=z.length;return{total:a,review:z.filter(a=>"review"===a.status).length,done:z.filter(a=>"completed"===a.status).length}},[z]),G=async()=>{if(b)try{let a=await fetch(`http://localhost:4000/api/graders/${b}/export`,{method:"GET",credentials:"include"});if(!a.ok)throw Error("Export failed");let c=await a.blob(),d=a.headers.get("Content-Disposition"),e=d?.match(/filename="(.+)"/),f=e?e[1]:`grading_results_${b}.xlsx`,g=window.URL.createObjectURL(c),h=document.createElement("a");h.href=g,h.download=f,document.body.appendChild(h),h.click(),window.URL.revokeObjectURL(g),document.body.removeChild(h)}catch(a){console.error("Export error:",a),alert("Failed to export results. Please try again.")}};return(0,d.jsx)(g.e,{children:(0,d.jsxs)("div",{className:"pb-20 md:pb-0",children:[(0,d.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row gap-2",children:[(0,d.jsx)(n.p,{placeholder:"Enter grader ID",value:c,onChange:a=>h(a.target.value)}),(0,d.jsx)(m.$,{onClick:()=>{c.trim()&&a.push(`/grading?graderId=${c.trim()}`)},disabled:!c.trim(),children:"Load Queue"}),b&&(0,d.jsxs)(m.$,{variant:"outline",onClick:G,className:"gap-2",children:[(0,d.jsx)(B.A,{className:"size-4"}),"Export to Excel"]})]}),j.isLoading&&(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading submissions..."}),j.isError&&(0,d.jsxs)("div",{className:"text-sm text-destructive",children:["Failed to load submissions."," ",j.error instanceof Error?j.error.message:"Please try again."]}),u?(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"Grading Queue"}),(0,d.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>x(!w),className:"gap-2 touch-manipulation",children:[(0,d.jsx)(C.A,{className:"size-4"}),w?"Hide":"Show"," Queue"]})]}),w&&(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,d.jsxs)(p.E,{variant:"outline",className:"cursor-pointer touch-manipulation",children:["All (",F.total,")"]}),(0,d.jsxs)(p.E,{variant:"warning",className:"cursor-pointer touch-manipulation",children:["Review (",F.review,")"]}),(0,d.jsxs)(p.E,{variant:"success",className:"cursor-pointer touch-manipulation",children:["Done (",F.done,")"]})]}),(0,d.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:(0,d.jsx)(k,{submissions:z,selectedId:l,onSelect:a=>{o(a),x(!1)}})})]}),(0,d.jsx)(A,{question:E,onNext:()=>{},onPrevious:()=>{}})]}):(0,d.jsxs)("div",{className:"flex h-[calc(100vh-8rem)] gap-4",children:[(0,d.jsx)("div",{className:"transition-all duration-300 overflow-hidden",style:{width:`${q}%`,minWidth:q<15?"60px":"280px"},children:(0,d.jsxs)("div",{className:"h-full flex flex-col",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[q>=15&&(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"Submissions Queue"}),(0,d.jsx)(m.$,{variant:"ghost",size:"icon-sm",onClick:()=>r(q<15?30:10),children:q<15?(0,d.jsx)(t.A,{className:"size-4"}):(0,d.jsx)(s.A,{className:"size-4"})})]}),q>=15&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,d.jsxs)(p.E,{variant:"outline",className:"cursor-pointer",children:["All (",F.total,")"]}),(0,d.jsxs)(p.E,{variant:"warning",className:"cursor-pointer",children:["Review (",F.review,")"]}),(0,d.jsxs)(p.E,{variant:"success",className:"cursor-pointer",children:["Done (",F.done,")"]})]}),(0,d.jsx)(k,{submissions:z,selectedId:l,onSelect:o})]})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-auto",children:(0,d.jsx)(A,{question:E,onNext:()=>{},onPrevious:()=>{}})})]})]})})}function G(){return(0,d.jsx)(e.Suspense,{fallback:(0,d.jsx)(g.e,{children:(0,d.jsx)("div",{className:"text-muted-foreground",children:"Loading..."})}),children:(0,d.jsx)(F,{})})}},66558:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(16935).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},73496:a=>{"use strict";a.exports=require("http2")},74075:a=>{"use strict";a.exports=require("zlib")},76240:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return f}});let d=c(43161),e=()=>{};function f(a){var b;let{headManager:c,reduceComponentsToState:f}=a;function g(){if(c&&c.mountedInstances){let b=d.Children.toArray(Array.from(c.mountedInstances).filter(Boolean));c.updateHead(f(b,a))}}return null==c||null==(b=c.mountedInstances)||b.add(a.children),g(),e(()=>{var b;return null==c||null==(b=c.mountedInstances)||b.add(a.children),()=>{var b;null==c||null==(b=c.mountedInstances)||b.delete(a.children)}}),e(()=>(c&&(c._pendingUpdate=g),()=>{c&&(c._pendingUpdate=g)})),null}},79551:a=>{"use strict";a.exports=require("url")},81630:a=>{"use strict";a.exports=require("http")},83997:a=>{"use strict";a.exports=require("tty")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},87022:(a,b,c)=>{"use strict";a.exports=c(49064).vendored.contexts.AmpContext},87191:(a,b,c)=>{"use strict";c.d(b,{_:()=>h});var d=c(55016),e=c(2560),f=c(30530),g=c(49256);function h({score:a,showLabel:b=!0,size:c="md",className:h}){let i=(0,e.ul)(a);return(0,d.jsxs)("div",{className:(0,f.cn)("flex items-center gap-2",h),children:[b&&(0,d.jsx)(g.E,{variant:i,className:"font-mono text-xs",children:(0,e.Me)(a)}),(0,d.jsx)("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden min-w-20",children:(0,d.jsx)("div",{className:(0,f.cn)("transition-all duration-300",{sm:"h-1.5",md:"h-2",lg:"h-3"}[c],{"bg-green-500":a>=85,"bg-yellow-500":a>=70&&a<85,"bg-red-500":a<70}),style:{width:`${Math.min(a,100)}%`}})})]})}},94735:a=>{"use strict";a.exports=require("events")},96584:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return i},getImageProps:function(){return h}});let d=c(93396),e=c(49074),f=c(56110),g=d._(c(33116));function h(a){let{props:b}=(0,e.getImgProps)(a,{defaultLoader:g.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let i=f.Image}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[665,973,390],()=>b(b.s=24488));module.exports=c})();