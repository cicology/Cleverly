exports.id=374,exports.ids=[374],exports.modules={2294:(a,b,c)=>{"use strict";c.d(b,{lH:()=>o,hk:()=>r,EB:()=>s,A8:()=>p,vm:()=>q});var d=c(97568),e=c(71013),f=c(18547),g=c(34447),h=c(37225);async function i(){return await (0,h.iD)()}let j=g.A.create({baseURL:"http://localhost:4000/api"});j.interceptors.request.use(async a=>{let b=await i();return b&&(a.headers.Authorization=`Bearer ${b}`),a});let k=async()=>(await j.get("/courses")).data.courses,l=async a=>(await j.get(`/graders/courses/${a}/graders`)).data.graders,m=async a=>{let b=new FormData;return b.append("course_id",a.course_id),b.append("title",a.title),a.total_marks&&b.append("total_marks",a.total_marks.toString()),a.subject_type&&b.append("subject_type",a.subject_type),a.test_file&&b.append("test_file",a.test_file),a.memo_file&&b.append("memo_file",a.memo_file),(await j.post("/graders",b,{headers:{"Content-Type":"multipart/form-data"}})).data},n=async a=>(await j.get(`/graders/${a}/submissions`)).data.submissions,o={courses:["courses"],gradersByCourse:a=>["graders","course",a],grader:a=>["graders",a],submissions:a=>["submissions",a],submission:a=>["submission",a],submissionGrades:a=>["submission",a,"grades"],analytics:a=>["analytics",a],transparency:a=>["transparency",a],transparencyGrader:a=>["transparency","grader",a]};function p(a){return(0,d.I)({queryKey:o.courses,queryFn:k,...a})}function q(){let a=(0,e.jE)();return(0,f.n)({mutationFn:m,onSuccess:()=>{a.invalidateQueries({queryKey:o.courses}),a.invalidateQueries({queryKey:["graders","course"]})}})}function r(a){let{data:b}=p();return(0,d.I)({queryKey:["graders","all"],queryFn:async()=>b&&0!==b.length?(await Promise.all(b.map(a=>l(a.id)))).flat():[],enabled:!!b&&b.length>0,...a})}function s(a){let{data:b}=r();return(0,d.I)({queryKey:["submissions","all"],queryFn:async()=>b&&0!==b.length?(await Promise.all(b.map(a=>n(a.id)))).flat():[],enabled:!!b&&b.length>0,...a})}},6647:(a,b,c)=>{"use strict";c.d(b,{BT:()=>i,Wu:()=>k,X9:()=>j,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(26835);c(53830);var e=c(51570);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-action",className:(0,e.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",a),...b})}function k({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},9462:(a,b,c)=>{"use strict";c.d(b,{Ol:()=>k,Zf:()=>l,we:()=>j});var d=c(68839),e=c(37225),f=c(50091);let g=null,h=0,i=!1;async function j(){let a="http://localhost:4000/api".replace("/api","")||0,b=await (0,e.iD)();return(g=(0,d.io)(a,{auth:{token:b},reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:3})).on("connect",()=>{f.v.info("Socket.IO connected to server"),h=0,i=!1}),g.on("disconnect",()=>{f.v.info("Socket.IO disconnected from server")}),g.on("connect_error",a=>{h++,i||(f.v.warn("Unable to connect to backend server. Real-time updates will be unavailable."),i=!0),h>=3&&(f.v.debug("Socket.IO gave up after 3 connection attempts"),g?.disconnect())}),g.on("error",a=>{f.v.error("Socket.IO error:",a)}),g}function k(){return g}function l(){g&&(g.disconnect(),g=null),h=0,i=!1}},9566:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,75765,23))},10640:(a,b,c)=>{Promise.resolve().then(c.bind(c,62532)),Promise.resolve().then(c.bind(c,88148)),Promise.resolve().then(c.bind(c,76050))},17858:()=>{},18450:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,11319,23)),Promise.resolve().then(c.t.bind(c,88182,23)),Promise.resolve().then(c.t.bind(c,20232,23)),Promise.resolve().then(c.t.bind(c,94647,23)),Promise.resolve().then(c.t.bind(c,90511,23)),Promise.resolve().then(c.t.bind(c,92249,23)),Promise.resolve().then(c.t.bind(c,40622,23)),Promise.resolve().then(c.bind(c,35879))},20485:()=>{},24429:()=>{},33656:(a,b,c)=>{"use strict";function d(a,b,c,d,e){}c.d(b,{P:()=>d}),c(53830),c(9462)},37225:(a,b,c)=>{"use strict";c.d(b,{ND:()=>g,iD:()=>i,y2:()=>h});var d=c(530);c(50091);let e="https://tjcgbibnyviotuywwapy.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRqY2diaWJueXZpb3R1eXd3YXB5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAxNzI3MDIsImV4cCI6MjA3NTc0ODcwMn0.kiaPxueXU4FNPkzCo0w_LPTP3fjEqV95O2WIhUUA4ZA",g=e&&f&&!e.includes("your-supabase-project")&&!f.includes("your-anon-key")?(0,d.UU)(e,f,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}):null,h=null!==g;async function i(){if(!g)return;let{data:{session:a}}=await g.auth.getSession();return a?.access_token}},44097:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(92713).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Rusumba/Oryares Sol/Cleverly/client/src/app/providers.tsx","Providers")},50091:(a,b,c)=>{"use strict";c.d(b,{v:()=>e});class d{formatMessage(a,b,...c){let d=new Date().toISOString(),e=`[${d}] [${a.toUpperCase()}]`;"error"===a?console.error(e,b,...c):"warn"===a?console.warn(e,b,...c):this.isDevelopment}info(a,...b){this.formatMessage("info",a,...b)}warn(a,...b){this.formatMessage("warn",a,...b)}error(a,...b){this.formatMessage("error",a,...b)}debug(a,...b){this.isDevelopment&&this.formatMessage("debug",a,...b)}constructor(){this.isDevelopment=!1}}let e=new d},51570:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(61816),e=c(23644);function f(...a){return(0,e.QP)((0,d.$)(a))}},55402:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,75765,23)),Promise.resolve().then(c.t.bind(c,4396,23)),Promise.resolve().then(c.t.bind(c,94746,23)),Promise.resolve().then(c.t.bind(c,44469,23)),Promise.resolve().then(c.t.bind(c,80913,23)),Promise.resolve().then(c.t.bind(c,51739,23)),Promise.resolve().then(c.t.bind(c,91996,23)),Promise.resolve().then(c.t.bind(c,14801,23))},62532:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>N});var d=c(26835),e=c(11901),f=c(71013),g=c(53830),h=c(37225);let i=(0,g.createContext)(void 0);function j({children:a}){let[b,c]=(0,g.useState)(null),[e,f]=(0,g.useState)(null),[j,k]=(0,g.useState)(!0),[l,m]=(0,g.useState)(null),n=async(a,b)=>{if(!h.ND)return{error:{message:"Supabase not configured"}};m(null);let{error:c}=await h.ND.auth.signUp({email:a,password:b});return c&&m(c.message),{error:c}},o=async(a,b)=>{if(!h.ND)return{error:{message:"Supabase not configured"}};m(null);let{error:c}=await h.ND.auth.signInWithPassword({email:a,password:b});return c&&m(c.message),{error:c}},p=async()=>{if(!h.ND)return;m(null);let{error:a}=await h.ND.auth.signOut();a&&m(a.message)},q={user:b,session:e,loading:j,isAuthenticated:!h.y2||!!b,signUp:n,signIn:o,signOut:p,error:l};return(0,d.jsx)(i.Provider,{value:q,children:a})}function k(){let a=(0,g.useContext)(i);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}var l=c(98289),m=c(89619),n=c(98621),o=c(18702),p=c(51334),q=c(32336);function r({toast:a,onDismiss:b}){return(0,d.jsxs)("div",{className:`toast toast-${a.type}`,children:[(0,d.jsx)("div",{className:"toast-icon",children:(()=>{switch(a.type){case"error":return(0,d.jsx)(l.A,{size:20});case"success":return(0,d.jsx)(m.A,{size:20});case"warning":return(0,d.jsx)(n.A,{size:20});default:return(0,d.jsx)(o.A,{size:20})}})()}),(0,d.jsxs)("div",{className:"toast-content",children:[(0,d.jsx)("div",{className:"toast-title",children:a.title}),(0,d.jsx)("div",{className:"toast-message",children:a.message}),a.onRetry&&(0,d.jsxs)("button",{className:"toast-retry-btn",onClick:c=>{c.stopPropagation(),a.onRetry?.(),b(a.id)},children:[(0,d.jsx)(p.A,{size:14}),"Retry"]})]}),(0,d.jsx)("button",{className:"toast-close",onClick:c=>{c.stopPropagation(),b(a.id)},children:(0,d.jsx)(q.A,{size:16})})]})}let s=(0,g.createContext)(void 0);function t({children:a}){let[b,c]=(0,g.useState)([]),e=(0,g.useCallback)(a=>{let b=`toast-${Date.now()}-${Math.random()}`;c(c=>[...c,{...a,id:b}])},[]),f=(0,g.useCallback)(a=>{c(b=>b.filter(b=>b.id!==a))},[]);return(0,d.jsxs)(s.Provider,{value:{showToast:e,dismissToast:f},children:[a,(0,d.jsx)("div",{className:"toast-container",children:b.map(a=>(0,d.jsx)(r,{toast:a,onDismiss:f},a.id))})]})}var u=c(62388),v=c(60646),w=c(96901),x=c(27737),y=c(28274),z=c(93068),A=c(83765),B=c(78697),C=c(51570);function D({open:a,onClose:b,presentation:c="modal",showHero:e=!0}){let[f,i]=(0,g.useState)("signin"),[j,l]=(0,g.useState)(""),[m,n]=(0,g.useState)(""),[o,p]=(0,g.useState)(!1),{signIn:r,signUp:s,error:t}=k(),D="panel"===c;if(!a&&!D)return null;let E=async a=>{a.preventDefault(),p(!0);try{if("signin"===f){let{error:a}=await r(j,m);a||b()}else{let{error:a}=await s(j,m);a||b()}}finally{p(!1)}};return(0,d.jsxs)(d.Fragment,{children:[!h.y2&&(0,d.jsx)("div",{className:(0,C.cn)("fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",D&&"static bg-transparent backdrop-blur-0 px-0"),onClick:D?void 0:b,children:(0,d.jsxs)("div",{className:"relative w-full max-w-lg rounded-3xl bg-white shadow-2xl border border-border/70 overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(111,139,108,0.12),transparent_40%),radial-gradient(circle_at_80%_0%,rgba(205,214,196,0.35),transparent_35%)]"}),(0,d.jsxs)("div",{className:"relative p-6 space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Setup needed"}),(0,d.jsx)("h2",{className:"text-2xl font-semibold text-foreground mt-1",children:"Authentication not configured"})]}),!D&&(0,d.jsx)(B.$,{variant:"ghost",size:"icon",className:"rounded-full",onClick:b,children:(0,d.jsx)(q.A,{className:"size-5"})})]}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Add your Supabase credentials to ",(0,d.jsx)("code",{children:".env"})," to enable sign-in and sign-up flows."]}),(0,d.jsxs)("div",{className:"rounded-2xl border border-border/70 bg-muted/60 p-4 font-mono text-xs text-foreground",children:["NEXT_PUBLIC_SUPABASE_URL=your-project-url",(0,d.jsx)("br",{}),"NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key"]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(B.$,{variant:"secondary",onClick:b,className:"rounded-full px-5",children:"Close"})})]})]})}),h.y2&&D&&(0,d.jsx)("div",{className:"relative w-full h-full",children:(0,d.jsxs)("div",{className:"relative bg-card p-6 md:p-8",children:[(0,d.jsx)("div",{className:"flex items-start justify-between",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Authentication"}),(0,d.jsx)("h3",{className:"text-2xl font-semibold text-foreground mt-1",children:"signin"===f?"Sign in":"Create your account"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use your email and password to access Cleverly."})]})}),(0,d.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-2 rounded-full bg-muted p-1",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>i("signin"),className:(0,C.cn)("flex items-center justify-center gap-2 rounded-full px-3 py-2 text-sm font-semibold transition-all","signin"===f?"bg-card shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[(0,d.jsx)(u.A,{className:"size-4"}),"Sign In"]}),(0,d.jsxs)("button",{type:"button",onClick:()=>i("signup"),className:(0,C.cn)("flex items-center justify-center gap-2 rounded-full px-3 py-2 text-sm font-semibold transition-all","signup"===f?"bg-card shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[(0,d.jsx)(v.A,{className:"size-4"}),"Sign Up"]})]}),(0,d.jsxs)("form",{onSubmit:E,className:"mt-6 space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Email"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(w.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),(0,d.jsx)(A.p,{type:"email",placeholder:"you@example.com",value:j,onChange:a=>l(a.target.value),required:!0,className:"pl-10 rounded-xl bg-white"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),(0,d.jsx)(A.p,{type:"password",placeholder:"Enter your password",value:m,onChange:a=>n(a.target.value),required:!0,minLength:6,className:"pl-10 rounded-xl bg-white"})]}),"signup"===f&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),t&&(0,d.jsx)("div",{className:"rounded-xl border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:t}),(0,d.jsx)("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-3 pt-2",children:(0,d.jsx)(B.$,{type:"submit",className:"w-full sm:w-auto rounded-full px-5",disabled:o,children:o?"Processing...":"signin"===f?"Sign In":"Create Account"})})]})]})}),h.y2&&!D&&(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",onClick:b,children:(0,d.jsx)("div",{className:"relative w-full max-w-4xl overflow-hidden rounded-3xl bg-white shadow-2xl border border-border/70",onClick:a=>a.stopPropagation(),children:(0,d.jsxs)("div",{className:"grid md:grid-cols-[1.05fr_1.2fr]",children:[e&&(0,d.jsxs)("div",{className:"relative hidden md:flex flex-col justify-between gap-6 p-8 bg-gradient-to-br from-primary/95 via-primary to-primary/85 text-primary-foreground",children:[(0,d.jsx)("div",{className:"absolute inset-0 opacity-30 bg-[radial-gradient(circle_at_20%_20%,rgba(255,255,255,0.45),transparent_40%)]"}),(0,d.jsxs)("div",{className:"relative z-10 space-y-4",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-sm font-medium",children:[(0,d.jsx)(y.A,{className:"size-4"}),"Secure access"]}),(0,d.jsx)("h2",{className:"text-3xl font-semibold leading-tight",children:"Welcome back to Cleverly"}),(0,d.jsx)("p",{className:"text-sm text-white/85",children:"Grade faster, track submissions, and keep your rubrics in sync. Sign in to continue where you left off."})]}),(0,d.jsxs)("div",{className:"relative z-10 space-y-3",children:[["Encrypted Supabase auth","Real-time grading updates","Admin monitoring built-in"].map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/90",children:[(0,d.jsx)(z.A,{className:"size-4"}),a]},a)),(0,d.jsxs)("div",{className:"flex items-center gap-3 pt-3 text-white/70 text-xs uppercase tracking-[0.2em]",children:[(0,d.jsx)("span",{className:"h-px w-8 bg-white/50"}),"Cleverly AI Grader",(0,d.jsx)("span",{className:"h-px w-8 bg-white/50"})]})]})]}),(0,d.jsxs)("div",{className:"relative bg-card p-6 md:p-8",children:[(0,d.jsx)(B.$,{variant:"ghost",size:"icon",className:"absolute right-4 top-4 rounded-full",onClick:b,children:(0,d.jsx)(q.A,{className:"size-5"})}),(0,d.jsx)("div",{className:"flex items-start justify-between",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Authentication"}),(0,d.jsx)("h3",{className:"text-2xl font-semibold text-foreground mt-1",children:"signin"===f?"Sign in":"Create your account"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use your email and password to access Cleverly."})]})}),(0,d.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-2 rounded-full bg-muted p-1",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>i("signin"),className:(0,C.cn)("flex items-center justify-center gap-2 rounded-full px-3 py-2 text-sm font-semibold transition-all","signin"===f?"bg-card shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[(0,d.jsx)(u.A,{className:"size-4"}),"Sign In"]}),(0,d.jsxs)("button",{type:"button",onClick:()=>i("signup"),className:(0,C.cn)("flex items-center justify-center gap-2 rounded-full px-3 py-2 text-sm font-semibold transition-all","signup"===f?"bg-card shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[(0,d.jsx)(v.A,{className:"size-4"}),"Sign Up"]})]}),(0,d.jsxs)("form",{onSubmit:E,className:"mt-6 space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Email"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(w.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),(0,d.jsx)(A.p,{type:"email",placeholder:"you@example.com",value:j,onChange:a=>l(a.target.value),required:!0,className:"pl-10 rounded-xl bg-white"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),(0,d.jsx)(A.p,{type:"password",placeholder:"Enter your password",value:m,onChange:a=>n(a.target.value),required:!0,minLength:6,className:"pl-10 rounded-xl bg-white"})]}),"signup"===f&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),t&&(0,d.jsx)("div",{className:"rounded-xl border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:t}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-3 pt-2",children:[(0,d.jsx)(B.$,{type:"button",variant:"outline",className:"w-full sm:w-auto rounded-full",onClick:b,disabled:o,children:"Cancel"}),(0,d.jsx)(B.$,{type:"submit",className:"w-full sm:w-auto rounded-full px-5",disabled:o,children:o?"Processing...":"signin"===f?"Sign In":"Create Account"})]})]})]})]})})})]})}var E=c(1050);function F({children:a}){let{isAuthenticated:b,loading:c}=k();return h.y2?c?(0,d.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-muted text-foreground px-6",children:(0,d.jsxs)("div",{className:"rounded-3xl border border-border/80 bg-card shadow-[0_25px_60px_-35px_rgba(0,0,0,0.45)] px-8 py-10 text-center space-y-4",children:[(0,d.jsx)(E.A,{className:"mx-auto size-10 animate-spin text-primary"}),(0,d.jsx)("p",{className:"text-lg font-semibold",children:"Checking authentication..."}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hold on while we verify your session."})]})}):b?(0,d.jsx)(d.Fragment,{children:a}):(0,d.jsx)("div",{className:"min-h-screen bg-muted text-foreground flex items-center justify-center px-4 py-10",children:(0,d.jsxs)("div",{className:"w-full max-w-5xl grid md:grid-cols-[1fr_1.05fr] overflow-hidden rounded-[24px] border border-border/80 bg-card shadow-[0_28px_80px_-40px_rgba(0,0,0,0.35)]",children:[(0,d.jsxs)("div",{className:"relative hidden md:flex flex-col justify-between gap-6 p-10 bg-gradient-to-br from-primary via-primary/95 to-primary/85 text-primary-foreground",children:[(0,d.jsx)("div",{className:"absolute inset-0 opacity-25 bg-[radial-gradient(circle_at_20%_20%,rgba(255,255,255,0.55),transparent_45%)]"}),(0,d.jsxs)("div",{className:"relative z-10 space-y-4",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-3 rounded-full bg-white/15 px-3 py-1 text-sm font-semibold",children:[(0,d.jsx)(x.A,{className:"size-4"}),"Authentication"]}),(0,d.jsx)("h1",{className:"text-3xl font-semibold leading-tight",children:"Sign in to Cleverly"}),(0,d.jsx)("p",{className:"text-base text-white/85",children:"Keep your courses, graders, and submissions protected. Secure, synced, and ready for grading."})]}),(0,d.jsx)("div",{className:"relative z-10 mt-4 space-y-3",children:["Encrypted Supabase auth","Real-time grading updates","Built-in admin monitoring"].map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/90",children:[(0,d.jsx)(m.A,{className:"size-4"}),a]},a))})]}),(0,d.jsx)("div",{className:"bg-card p-6 md:p-8",children:(0,d.jsx)(D,{open:!0,onClose:()=>{},presentation:"panel",showHero:!1})})]})}):(0,d.jsx)(d.Fragment,{children:a})}c(9462);var G=c(33656),H=c(68600),I=c(6647);function J({value:a=0,className:b,...c}){return(0,d.jsx)("div",{role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,className:(0,C.cn)("relative h-2 w-full overflow-hidden rounded-full bg-muted",b),...c,children:(0,d.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(Math.max(a,0),100)}%`}})})}function K({jobs:a,onClearCompleted:b}){return a.length?(0,d.jsx)("div",{className:"fixed bottom-4 right-4 max-w-sm w-full z-40",children:(0,d.jsxs)(I.Zp,{className:"border border-border/80 shadow-lg",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-semibold text-foreground",children:"Background jobs"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.length," active"]})]}),(0,d.jsx)(B.$,{variant:"ghost",size:"sm",className:"rounded-full",onClick:b,children:"Clear done"})]}),(0,d.jsx)("div",{className:"divide-y divide-border/70",children:a.map(a=>(0,d.jsxs)("div",{className:"px-4 py-3 space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(H.E,{variant:"secondary",className:"capitalize",children:a.type}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:a.submissionId||a.courseId||a.id})]}),(0,d.jsx)(H.E,{className:"capitalize",variant:"completed"===a.status?"success":"failed"===a.status?"destructive":"secondary",children:a.status})]}),"processing"===a.status&&"number"==typeof a.progress&&(0,d.jsx)(J,{value:a.progress,className:"h-2"}),a.error&&(0,d.jsx)("p",{className:"text-xs text-destructive",children:a.error})]},a.id))})]})}):null}var L=c(2294);function M(){let[a,b]=(0,g.useState)([]),c=(0,f.jE)(),{showToast:e}=function(){let a=(0,g.useContext)(s);if(!a)throw Error("useToast must be used within ToastProvider");return a}(),h=(0,g.useCallback)((a,c)=>{b(b=>{let d=b.findIndex(a=>"grading"===a.type&&a.submissionId===c);if(!(d>=0))return[...b,{id:`grading-${c}`,type:"grading",status:"processing",progress:a,submissionId:c,startTime:Date.now()}];{let c=[...b];return c[d]={...c[d],progress:a,status:"processing"},c}})},[]),i=(0,g.useCallback)((a,d,f)=>{b(a=>{let b=a.findIndex(a=>"grading"===a.type&&a.submissionId===d);if(b>=0){let c=[...a];return c[b]={...c[b],status:"completed",progress:100,endTime:Date.now()},c}return a}),c.invalidateQueries({queryKey:L.lH.submissions(a)}),c.invalidateQueries({queryKey:L.lH.submission(d)}),c.invalidateQueries({queryKey:L.lH.submissionGrades(d)}),c.invalidateQueries({queryKey:L.lH.analytics(a)}),e({type:"success",title:"Grading Complete",message:`Submission ${d.slice(0,8)} has been graded successfully.`,duration:5e3})},[c,e]),j=(0,g.useCallback)((a,d)=>{b(b=>{let c=b.findIndex(b=>"embedding"===b.type&&b.courseId===a);if(c>=0){let a=[...b];return a[c]={...a[c],status:"completed",endTime:Date.now()},a}return b}),c.invalidateQueries({queryKey:L.lH.courses}),e({type:"success",title:"Embedding Complete",message:"Course files have been embedded successfully.",duration:5e3})},[c,e]),k=(0,g.useCallback)((a,c)=>{b(b=>{let d=b.findIndex(b=>"embedding"===b.type&&b.courseId===a);if(!(d>=0))return[...b,{id:`embedding-${a}`,type:"embedding",status:"failed",error:c,courseId:a,startTime:Date.now(),endTime:Date.now()}];{let a=[...b];return a[d]={...a[d],status:"failed",error:c,endTime:Date.now()},a}}),e({type:"error",title:"Embedding Failed",message:c||"Failed to embed course files. Please try again.",duration:0})},[e]),l=(0,g.useCallback)((a,c,d)=>{b(b=>{let e=b.findIndex(a=>"grading"===a.type&&a.submissionId===c);if(!(e>=0))return[...b,{id:`grading-${c}`,type:"grading",status:"failed",error:d,submissionId:c,graderId:a,startTime:Date.now(),endTime:Date.now()}];{let a=[...b];return a[e]={...a[e],status:"failed",error:d,endTime:Date.now()},a}}),e({type:"error",title:"Grading Failed",message:d||"Failed to grade submission. Please try again.",duration:0})},[e]);(0,G.P)(h,i,j,k,l);let m=(0,g.useCallback)(()=>{b(a=>a.filter(a=>"processing"===a.status))},[]);return(0,d.jsx)(K,{jobs:a,onClearCompleted:m})}function N({children:a}){let[b]=(0,g.useState)(()=>new e.E({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}}));return(0,d.jsx)(f.Ht,{client:b,children:(0,d.jsx)(j,{children:(0,d.jsx)(t,{children:(0,d.jsxs)(F,{children:[(0,d.jsx)(M,{}),a]})})})})}},64749:()=>{},68600:(a,b,c)=>{"use strict";c.d(b,{E:()=>i});var d=c(26835),e=c(75658),f=c(72272),g=c(51570);let h=(0,f.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"border-transparent bg-green-500 text-white [a&]:hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white [a&]:hover:bg-yellow-600",error:"border-transparent bg-red-500 text-white [a&]:hover:bg-red-600"}},defaultVariants:{variant:"default"}});function i({className:a,variant:b,asChild:c=!1,...f}){let i=c?e.DX:"span";return(0,d.jsx)(i,{"data-slot":"badge",className:(0,g.cn)(h({variant:b}),a),...f})}},73827:()=>{},75792:(a,b,c)=>{Promise.resolve().then(c.bind(c,44097)),Promise.resolve().then(c.bind(c,97210)),Promise.resolve().then(c.bind(c,39244))},78022:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,11319,23))},78697:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(26835);c(53830);var e=c(75658),f=c(72272),g=c(51570);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},83765:(a,b,c)=>{"use strict";c.d(b,{p:()=>g});var d=c(26835),e=c(53830),f=c(51570);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,f.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),ref:e,...c}));g.displayName="Input"},86893:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m,metadata:()=>l});var d=c(22037),e=c(39244);c(20485);var f=c(21992),g=c.n(f),h=c(30979),i=c.n(h),j=c(44097),k=c(97210);let l={title:"Cleverly AI Grader - Intelligent Test Grading System",description:"AI-assisted test grading with course materials ingestion, rubric generation, and handwritten submission analysis",generator:"v0.app",icons:{icon:[{url:"/icon-light-32x32.png",media:"(prefers-color-scheme: light)"},{url:"/icon-dark-32x32.png",media:"(prefers-color-scheme: dark)"},{url:"/icon.svg",type:"image/svg+xml"}],apple:"/apple-icon.png"}};function m({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsxs)("body",{className:`${g().variable} ${i().variable} font-sans antialiased`,children:[(0,d.jsx)(k.ErrorBoundary,{children:(0,d.jsx)(j.Providers,{children:a})}),(0,d.jsx)(e.Analytics,{})]})})}},88148:(a,b,c)=>{"use strict";c.d(b,{ErrorBoundary:()=>i});var d=c(26835),e=c(53830),f=c.n(e),g=c(98621),h=c(51334);class i extends f().Component{constructor(a){super(a),this.handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,b){this.setState({error:a,errorInfo:b})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:"40px 20px",textAlign:"center"},children:(0,d.jsxs)("div",{className:"card glass",style:{maxWidth:"500px",padding:"32px"},children:[(0,d.jsx)(g.A,{size:48,style:{color:"var(--error-500)",margin:"0 auto 16px"}}),(0,d.jsx)("h2",{style:{marginBottom:"12px"},children:"Something went wrong"}),(0,d.jsx)("p",{className:"muted",style:{marginBottom:"24px"},children:"An unexpected error occurred. Please try refreshing the page."}),(0,d.jsxs)("button",{className:"btn",onClick:this.handleReset,style:{display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:[(0,d.jsx)(h.A,{size:16}),"Try again"]}),!1]})}):this.props.children}}},97210:(a,b,c)=>{"use strict";c.d(b,{ErrorBoundary:()=>e});var d=c(92713);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ErrorBoundary() from the server but ErrorBoundary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Rusumba/Oryares Sol/Cleverly/client/src/components/ErrorBoundary.tsx","ErrorBoundary");(0,d.registerClientReference)(function(){throw Error("Attempted to call useErrorHandler() from the server but useErrorHandler is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Rusumba/Oryares Sol/Cleverly/client/src/components/ErrorBoundary.tsx","useErrorHandler")}};